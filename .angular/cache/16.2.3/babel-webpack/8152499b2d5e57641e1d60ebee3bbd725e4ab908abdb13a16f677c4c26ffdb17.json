{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/book.service\";\nimport * as i2 from \"@angular/common\";\nfunction CartComponent_ng_container_0_div_3_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 13);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const book_r3 = i0.ɵɵnextContext().$implicit;\n    const ctx_r4 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" x \", book_r3.price, \"\\u20AC = \", ctx_r4.Math.round(book_r3.amount * book_r3.price * 100) / 100, \"\\u20AC \");\n  }\n}\nfunction CartComponent_ng_container_0_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 6)(1, \"label\", 7);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 8);\n    i0.ɵɵlistener(\"click\", function CartComponent_ng_container_0_div_3_Template_div_click_3_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r7);\n      const book_r3 = restoredCtx.$implicit;\n      const ctx_r6 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r6.onInputNumberChange(\"minus\", book_r3));\n    });\n    i0.ɵɵelement(4, \"i\", 9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"span\", 10);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 8);\n    i0.ɵɵlistener(\"click\", function CartComponent_ng_container_0_div_3_Template_div_click_7_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r7);\n      const book_r3 = restoredCtx.$implicit;\n      const ctx_r8 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r8.onInputNumberChange(\"plus\", book_r3));\n    });\n    i0.ɵɵelement(8, \"i\", 11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(9, CartComponent_ng_container_0_div_3_div_9_Template, 2, 2, \"div\", 12);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const book_r3 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"for\", book_r3.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(book_r3.name);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(book_r3.amount);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", book_r3);\n  }\n}\nfunction CartComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"h5\", 1);\n    i0.ɵɵtext(2, \"Books added to cart\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, CartComponent_ng_container_0_div_3_Template, 10, 4, \"div\", 2);\n    i0.ɵɵelement(4, \"hr\");\n    i0.ɵɵelementStart(5, \"h5\", 3);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"button\", 4);\n    i0.ɵɵtext(8, \"Buy now\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"button\", 5);\n    i0.ɵɵlistener(\"click\", function CartComponent_ng_container_0_Template_button_click_9_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.onClearBooks());\n    });\n    i0.ɵɵtext(10, \"Delete cart\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.listCartBook);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Total price \", ctx_r0.totalPrice, \"\\u20AC\");\n  }\n}\nfunction CartComponent_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"h5\", 14);\n    i0.ɵɵtext(2, \"The cart is empty\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n}\nexport let CartComponent = /*#__PURE__*/(() => {\n  var _class;\n  class CartComponent {\n    constructor(_bookService) {\n      this._bookService = _bookService;\n      this.listCartBook = [];\n      this.totalPrice = 0;\n      this.Math = Math;\n    }\n    ngOnInit() {\n      this.listCartBook = this._bookService.getBooksFromCart();\n      this.totalPrice = this.getTotalPrice(this.listCartBook);\n    }\n    getTotalPrice(listCartBook) {\n      let totalPrice = 0;\n      listCartBook.forEach(book => {\n        totalPrice += book.amount * book.price;\n      });\n      return totalPrice;\n    }\n    onInputNumberChange(action, book) {\n      const amount = action === 'plus' ? book.amount + 1 : book.amount - 1;\n      book.amount = Number(amount);\n      this.listCartBook = this._bookService.updateAmountBook(book);\n      this.totalPrice = this.getTotalPrice(this.listCartBook);\n    }\n    onClearBooks() {\n      if (this.listCartBook && this.listCartBook.length > 0) {\n        this._clearListCartBook();\n      } else {\n        console.log(\"No books available\");\n      }\n    }\n    _clearListCartBook() {\n      this.listCartBook = [];\n      this._bookService.removeBooksFromCart();\n    }\n  }\n  _class = CartComponent;\n  _class.ɵfac = function CartComponent_Factory(t) {\n    return new (t || _class)(i0.ɵɵdirectiveInject(i1.BookService));\n  };\n  _class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: _class,\n    selectors: [[\"app-cart\"]],\n    decls: 2,\n    vars: 2,\n    consts: [[4, \"ngIf\"], [2, \"margin-bottom\", \"1rem\"], [\"style\", \"padding-left: 1.5rem;\", \"class\", \"form-group row\", 4, \"ngFor\", \"ngForOf\"], [\"id\", \"totalPrice\", 2, \"margin-bottom\", \"1rem\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\", 2, \"margin-right\", \"10px\"], [\"type\", \"button\", 1, \"btn\", \"btn-danger\", 3, \"click\"], [1, \"form-group\", \"row\", 2, \"padding-left\", \"1.5rem\"], [1, \"col-form-label\", \"col-4\", 2, \"margin-right\", \"1rem\", 3, \"for\"], [3, \"click\"], [1, \"fas\", \"fa-minus\", \"iconPlusMinus\"], [2, \"margin-top\", \"5px\", \"margin-left\", \"0.5rem\", \"margin-right\", \"0.5rem\"], [1, \"fas\", \"fa-plus\", \"iconPlusMinus\"], [\"style\", \"margin-top: 5px; margin-left: 1rem;\", 4, \"ngIf\"], [2, \"margin-top\", \"5px\", \"margin-left\", \"1rem\"], [\"id\", \"titleCartEmpty\"]],\n    template: function CartComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, CartComponent_ng_container_0_Template, 11, 2, \"ng-container\", 0);\n        i0.ɵɵtemplate(1, CartComponent_ng_container_1_Template, 3, 0, \"ng-container\", 0);\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", ctx.listCartBook && ctx.listCartBook.length > 0);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.listCartBook || ctx.listCartBook.length === 0);\n      }\n    },\n    dependencies: [i2.NgForOf, i2.NgIf],\n    styles: [\".iconPlusMinus[_ngcontent-%COMP%]{border:solid 1px;padding:1px;border-radius:100%;font-size:12px;margin-top:10px}.fa-plus[_ngcontent-%COMP%]:hover{color:#007bff;cursor:pointer}.fa-minus[_ngcontent-%COMP%]:hover{color:red;cursor:pointer}\"]\n  });\n  return CartComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}